# GitHub Copilot Instructions for civic-lens

Purpose

This document explains how to use GitHub Copilot (and similar AI coding assistants) when working on the civic-lens repository. It contains recommended prompts, rules for generated code, review checklist items, and guidelines for committing AI-assisted changes.

Scope

- Applies to all contributors, maintainers, and automated agents producing code for this repository.
- Covers generation of code, tests, documentation, and configuration files.

Before using Copilot

1. Pull the latest changes and work on a feature branch: git pull origin main && git checkout -b feat/your-feature
2. Run the project's linters and tests locally (if present) so you know the current baseline.

Prompting Copilot (recommended patterns)

- Be specific about the context. Include the file path and a short description of what you want.
  Example: "In src/components/map/MapView.js, implement a function `fitBounds(bounds)` that smoothly adjusts the map viewport to the given bounds, using the project's map abstraction. Add unit tests."

- Ask for small, testable changes. Prefer multiple short prompts over one large prompt.

- When asking for a function, include expected inputs, outputs, and edge cases.

Rules for generated code

- Follow existing repository conventions: style, naming, and architecture. If there is a linter or formatter (ESLint/Prettier, flake8, gofmt, etc.), ensure generated code passes them.
- Keep functions small and single-purpose.
- Do not commit secrets, API keys, or credentials generated by Copilot.
- Prefer explicit types/validation (TypeScript types, PropTypes, runtime checks) where applicable.

Testing

- Add unit tests for any business logic generated or modified.
- For UI changes, include snapshot or integration tests if the project uses them.
- Run the full test suite locally before opening a PR.

Reviewing AI-generated code (reviewer checklist)

- Read the generated code line-by-line; do not assume correctness.
- Verify edge cases and error handling are covered.
- Check for performance issues and unexpected side effects.
- Ensure no secrets or environment-specific values are present.
- Confirm that tests adequately cover new behaviors.

Commit and PR guidance

- Use clear commit messages referencing that work was AI-assisted when appropriate, e.g. "feat: add X (AI-assisted)". Be honest about the role Copilot played.
- Create a feature branch and open a pull request describing what was generated, what you edited, and what reviewers should focus on.

Security and privacy

- Do not accept or commit code that requires sharing private tokens or credentials.
- If Copilot suggests usage of proprietary libraries or unknown network calls, verify licensing and behavior before merging.

When to avoid Copilot

- Complex security-related code (authentication, authorization, encryption) should be hand-written and reviewed by experienced maintainers.
- Critical algorithmic code where correctness is essential should have human authorship and strong tests.

Support

- If you run into unclear suggestions or unsafe code from Copilot, discuss it on the repo's issues or reach out to the maintainers via the preferred contact channel.

Acknowledgements

- These guidelines aim to help contributors use AI tools productively while keeping code quality and security high.

Last updated: 2025-11-05